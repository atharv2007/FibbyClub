{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":35,"index":80}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../store/useAppStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":51,"index":132}}],"key":"BRL34+Tfd/ATte2rNHcNzfU/C6A=","exportNames":["*"],"imports":1}},{"name":"../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":49,"index":182}}],"key":"wtq8Fkr/TgrbpLuMtxn0+1CYCwc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useDashboard\", {\n    enumerable: true,\n    get: function () {\n      return useDashboard;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsApi = require(_dependencyMap[1], \"../utils/api\");\n  var _storeUseAppStore = require(_dependencyMap[2], \"../store/useAppStore\");\n  var _contextAuthContext = require(_dependencyMap[3], \"../context/AuthContext\");\n  const useDashboard = () => {\n    const [isInitialized, setIsInitialized] = (0, _react.useState)(false);\n    const {\n      user: authUser\n    } = (0, _contextAuthContext.useAuth)();\n    const {\n      user,\n      accounts,\n      insights,\n      categoryBreakdown,\n      spendVelocity,\n      loading,\n      error,\n      setUser,\n      setAccounts,\n      setInsights,\n      setCategoryBreakdown,\n      setSpendVelocity,\n      setLoading,\n      setError\n    } = (0, _storeUseAppStore.useAppStore)();\n    const initializeApp = async () => {\n      if (!authUser) return;\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Fetch dashboard data using authenticated user's ID\n        const dashboardData = await _utilsApi.api.getDashboard(authUser._id);\n        setUser(dashboardData.user);\n        setAccounts(dashboardData.accounts);\n        setInsights(dashboardData.insights);\n        setCategoryBreakdown(dashboardData.category_breakdown);\n        setSpendVelocity(dashboardData.spend_velocity);\n        setIsInitialized(true);\n      } catch (err) {\n        console.error('Dashboard initialization error:', err);\n        setError(err.message || 'Failed to load dashboard');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refreshDashboard = async () => {\n      if (!user?._id) return;\n      try {\n        setLoading(true);\n        const dashboardData = await _utilsApi.api.getDashboard(user._id);\n        setAccounts(dashboardData.accounts);\n        setInsights(dashboardData.insights);\n        setCategoryBreakdown(dashboardData.category_breakdown);\n        setSpendVelocity(dashboardData.spend_velocity);\n      } catch (err) {\n        console.error('Dashboard refresh error:', err);\n        setError(err.message || 'Failed to refresh dashboard');\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isInitialized) {\n        initializeApp();\n      }\n    }, []);\n    return {\n      user,\n      accounts,\n      insights,\n      categoryBreakdown,\n      spendVelocity,\n      loading,\n      error,\n      refreshDashboard\n    };\n  };\n});","lineCount":91,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"useDashboard"],[10,25,6,0],[11,4,6,0],[12,2,6,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_utilsApi"],[14,15,2,0],[14,18,2,0,"require"],[14,25,2,0],[14,26,2,0,"_dependencyMap"],[14,40,2,0],[15,2,3,0],[15,6,3,0,"_storeUseAppStore"],[15,23,3,0],[15,26,3,0,"require"],[15,33,3,0],[15,34,3,0,"_dependencyMap"],[15,48,3,0],[16,2,4,0],[16,6,4,0,"_contextAuthContext"],[16,25,4,0],[16,28,4,0,"require"],[16,35,4,0],[16,36,4,0,"_dependencyMap"],[16,50,4,0],[17,2,6,7],[17,8,6,13,"useDashboard"],[17,20,6,25],[17,23,6,28,"useDashboard"],[17,24,6,28],[17,29,6,34],[18,4,7,2],[18,10,7,8],[18,11,7,9,"isInitialized"],[18,24,7,22],[18,26,7,24,"setIsInitialized"],[18,42,7,40],[18,43,7,41],[18,46,7,44],[18,50,7,44,"useState"],[18,56,7,52],[18,57,7,52,"useState"],[18,65,7,52],[18,67,7,53],[18,72,7,58],[18,73,7,59],[19,4,8,2],[19,10,8,8],[20,6,8,10,"user"],[20,10,8,14],[20,12,8,16,"authUser"],[21,4,8,25],[21,5,8,26],[21,8,8,29],[21,12,8,29,"useAuth"],[21,31,8,36],[21,32,8,36,"useAuth"],[21,39,8,36],[21,41,8,37],[21,42,8,38],[22,4,9,2],[22,10,9,8],[23,6,10,4,"user"],[23,10,10,8],[24,6,11,4,"accounts"],[24,14,11,12],[25,6,12,4,"insights"],[25,14,12,12],[26,6,13,4,"categoryBreakdown"],[26,23,13,21],[27,6,14,4,"spendVelocity"],[27,19,14,17],[28,6,15,4,"loading"],[28,13,15,11],[29,6,16,4,"error"],[29,11,16,9],[30,6,17,4,"setUser"],[30,13,17,11],[31,6,18,4,"setAccounts"],[31,17,18,15],[32,6,19,4,"setInsights"],[32,17,19,15],[33,6,20,4,"setCategoryBreakdown"],[33,26,20,24],[34,6,21,4,"setSpendVelocity"],[34,22,21,20],[35,6,22,4,"setLoading"],[35,16,22,14],[36,6,23,4,"setError"],[37,4,24,2],[37,5,24,3],[37,8,24,6],[37,12,24,6,"useAppStore"],[37,29,24,17],[37,30,24,17,"useAppStore"],[37,41,24,17],[37,43,24,18],[37,44,24,19],[38,4,26,2],[38,10,26,8,"initializeApp"],[38,23,26,21],[38,26,26,24],[38,32,26,24,"initializeApp"],[38,33,26,24],[38,38,26,36],[39,6,27,4],[39,10,27,8],[39,11,27,9,"authUser"],[39,19,27,17],[39,21,27,19],[40,6,29,4],[40,10,29,8],[41,8,30,6,"setLoading"],[41,18,30,16],[41,19,30,17],[41,23,30,21],[41,24,30,22],[42,8,31,6,"setError"],[42,16,31,14],[42,17,31,15],[42,21,31,19],[42,22,31,20],[44,8,33,6],[45,8,34,6],[45,14,34,12,"dashboardData"],[45,27,34,25],[45,30,34,28],[45,36,34,34,"api"],[45,45,34,37],[45,46,34,37,"api"],[45,49,34,37],[45,50,34,38,"getDashboard"],[45,62,34,50],[45,63,34,51,"authUser"],[45,71,34,59],[45,72,34,60,"_id"],[45,75,34,63],[45,76,34,64],[46,8,36,6,"setUser"],[46,15,36,13],[46,16,36,14,"dashboardData"],[46,29,36,27],[46,30,36,28,"user"],[46,34,36,32],[46,35,36,33],[47,8,37,6,"setAccounts"],[47,19,37,17],[47,20,37,18,"dashboardData"],[47,33,37,31],[47,34,37,32,"accounts"],[47,42,37,40],[47,43,37,41],[48,8,38,6,"setInsights"],[48,19,38,17],[48,20,38,18,"dashboardData"],[48,33,38,31],[48,34,38,32,"insights"],[48,42,38,40],[48,43,38,41],[49,8,39,6,"setCategoryBreakdown"],[49,28,39,26],[49,29,39,27,"dashboardData"],[49,42,39,40],[49,43,39,41,"category_breakdown"],[49,61,39,59],[49,62,39,60],[50,8,40,6,"setSpendVelocity"],[50,24,40,22],[50,25,40,23,"dashboardData"],[50,38,40,36],[50,39,40,37,"spend_velocity"],[50,53,40,51],[50,54,40,52],[51,8,42,6,"setIsInitialized"],[51,24,42,22],[51,25,42,23],[51,29,42,27],[51,30,42,28],[52,6,43,4],[52,7,43,5],[52,8,43,6],[52,15,43,13,"err"],[52,18,43,21],[52,20,43,23],[53,8,44,6,"console"],[53,15,44,13],[53,16,44,14,"error"],[53,21,44,19],[53,22,44,20],[53,55,44,53],[53,57,44,55,"err"],[53,60,44,58],[53,61,44,59],[54,8,45,6,"setError"],[54,16,45,14],[54,17,45,15,"err"],[54,20,45,18],[54,21,45,19,"message"],[54,28,45,26],[54,32,45,30],[54,58,45,56],[54,59,45,57],[55,6,46,4],[55,7,46,5],[55,16,46,14],[56,8,47,6,"setLoading"],[56,18,47,16],[56,19,47,17],[56,24,47,22],[56,25,47,23],[57,6,48,4],[58,4,49,2],[58,5,49,3],[59,4,51,2],[59,10,51,8,"refreshDashboard"],[59,26,51,24],[59,29,51,27],[59,35,51,27,"refreshDashboard"],[59,36,51,27],[59,41,51,39],[60,6,52,4],[60,10,52,8],[60,11,52,9,"user"],[60,15,52,13],[60,17,52,15,"_id"],[60,20,52,18],[60,22,52,20],[61,6,54,4],[61,10,54,8],[62,8,55,6,"setLoading"],[62,18,55,16],[62,19,55,17],[62,23,55,21],[62,24,55,22],[63,8,56,6],[63,14,56,12,"dashboardData"],[63,27,56,25],[63,30,56,28],[63,36,56,34,"api"],[63,45,56,37],[63,46,56,37,"api"],[63,49,56,37],[63,50,56,38,"getDashboard"],[63,62,56,50],[63,63,56,51,"user"],[63,67,56,55],[63,68,56,56,"_id"],[63,71,56,59],[63,72,56,60],[64,8,58,6,"setAccounts"],[64,19,58,17],[64,20,58,18,"dashboardData"],[64,33,58,31],[64,34,58,32,"accounts"],[64,42,58,40],[64,43,58,41],[65,8,59,6,"setInsights"],[65,19,59,17],[65,20,59,18,"dashboardData"],[65,33,59,31],[65,34,59,32,"insights"],[65,42,59,40],[65,43,59,41],[66,8,60,6,"setCategoryBreakdown"],[66,28,60,26],[66,29,60,27,"dashboardData"],[66,42,60,40],[66,43,60,41,"category_breakdown"],[66,61,60,59],[66,62,60,60],[67,8,61,6,"setSpendVelocity"],[67,24,61,22],[67,25,61,23,"dashboardData"],[67,38,61,36],[67,39,61,37,"spend_velocity"],[67,53,61,51],[67,54,61,52],[68,6,62,4],[68,7,62,5],[68,8,62,6],[68,15,62,13,"err"],[68,18,62,21],[68,20,62,23],[69,8,63,6,"console"],[69,15,63,13],[69,16,63,14,"error"],[69,21,63,19],[69,22,63,20],[69,48,63,46],[69,50,63,48,"err"],[69,53,63,51],[69,54,63,52],[70,8,64,6,"setError"],[70,16,64,14],[70,17,64,15,"err"],[70,20,64,18],[70,21,64,19,"message"],[70,28,64,26],[70,32,64,30],[70,61,64,59],[70,62,64,60],[71,6,65,4],[71,7,65,5],[71,16,65,14],[72,8,66,6,"setLoading"],[72,18,66,16],[72,19,66,17],[72,24,66,22],[72,25,66,23],[73,6,67,4],[74,4,68,2],[74,5,68,3],[75,4,70,2],[75,8,70,2,"useEffect"],[75,14,70,11],[75,15,70,11,"useEffect"],[75,24,70,11],[75,26,70,12],[75,32,70,18],[76,6,71,4],[76,10,71,8],[76,11,71,9,"isInitialized"],[76,24,71,22],[76,26,71,24],[77,8,72,6,"initializeApp"],[77,21,72,19],[77,22,72,20],[77,23,72,21],[78,6,73,4],[79,4,74,2],[79,5,74,3],[79,7,74,5],[79,9,74,7],[79,10,74,8],[80,4,76,2],[80,11,76,9],[81,6,77,4,"user"],[81,10,77,8],[82,6,78,4,"accounts"],[82,14,78,12],[83,6,79,4,"insights"],[83,14,79,12],[84,6,80,4,"categoryBreakdown"],[84,23,80,21],[85,6,81,4,"spendVelocity"],[85,19,81,17],[86,6,82,4,"loading"],[86,13,82,11],[87,6,83,4,"error"],[87,11,83,9],[88,6,84,4,"refreshDashboard"],[89,4,85,2],[89,5,85,3],[90,2,86,0],[90,3,86,1],[91,0,86,2],[91,3]],"functionMap":{"names":["<global>","useDashboard","initializeApp","refreshDashboard","useEffect$argument_0"],"mappings":"AAA;4BCK;wBCoB;GDuB;2BEE;GFiB;YGE;GHI;CDY"},"hasCjsExports":false},"type":"js/module"}]}