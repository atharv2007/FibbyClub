{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":35,"index":80}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../store/useAppStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":51,"index":132}}],"key":"BRL34+Tfd/ATte2rNHcNzfU/C6A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useDashboard\", {\n    enumerable: true,\n    get: function () {\n      return useDashboard;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsApi = require(_dependencyMap[1], \"../utils/api\");\n  var _storeUseAppStore = require(_dependencyMap[2], \"../store/useAppStore\");\n  const useDashboard = () => {\n    const [isInitialized, setIsInitialized] = (0, _react.useState)(false);\n    const {\n      user,\n      accounts,\n      insights,\n      categoryBreakdown,\n      spendVelocity,\n      loading,\n      error,\n      setUser,\n      setAccounts,\n      setInsights,\n      setCategoryBreakdown,\n      setSpendVelocity,\n      setLoading,\n      setError\n    } = (0, _storeUseAppStore.useAppStore)();\n    const initializeApp = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Initialize user\n        const initResult = await _utilsApi.api.initializeUser();\n        if (initResult.user_id) {\n          // Fetch dashboard data\n          const dashboardData = await _utilsApi.api.getDashboard(initResult.user_id);\n          setUser(dashboardData.user);\n          setAccounts(dashboardData.accounts);\n          setInsights(dashboardData.insights);\n          setCategoryBreakdown(dashboardData.category_breakdown);\n          setSpendVelocity(dashboardData.spend_velocity);\n          setIsInitialized(true);\n        }\n      } catch (err) {\n        console.error('Dashboard initialization error:', err);\n        setError(err.message || 'Failed to load dashboard');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refreshDashboard = async () => {\n      if (!user?._id) return;\n      try {\n        setLoading(true);\n        const dashboardData = await _utilsApi.api.getDashboard(user._id);\n        setAccounts(dashboardData.accounts);\n        setInsights(dashboardData.insights);\n        setCategoryBreakdown(dashboardData.category_breakdown);\n        setSpendVelocity(dashboardData.spend_velocity);\n      } catch (err) {\n        console.error('Dashboard refresh error:', err);\n        setError(err.message || 'Failed to refresh dashboard');\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isInitialized) {\n        initializeApp();\n      }\n    }, []);\n    return {\n      user,\n      accounts,\n      insights,\n      categoryBreakdown,\n      spendVelocity,\n      loading,\n      error,\n      refreshDashboard\n    };\n  };\n});","lineCount":90,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"useDashboard"],[10,25,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_utilsApi"],[14,15,2,0],[14,18,2,0,"require"],[14,25,2,0],[14,26,2,0,"_dependencyMap"],[14,40,2,0],[15,2,3,0],[15,6,3,0,"_storeUseAppStore"],[15,23,3,0],[15,26,3,0,"require"],[15,33,3,0],[15,34,3,0,"_dependencyMap"],[15,48,3,0],[16,2,5,7],[16,8,5,13,"useDashboard"],[16,20,5,25],[16,23,5,28,"useDashboard"],[16,24,5,28],[16,29,5,34],[17,4,6,2],[17,10,6,8],[17,11,6,9,"isInitialized"],[17,24,6,22],[17,26,6,24,"setIsInitialized"],[17,42,6,40],[17,43,6,41],[17,46,6,44],[17,50,6,44,"useState"],[17,56,6,52],[17,57,6,52,"useState"],[17,65,6,52],[17,67,6,53],[17,72,6,58],[17,73,6,59],[18,4,7,2],[18,10,7,8],[19,6,8,4,"user"],[19,10,8,8],[20,6,9,4,"accounts"],[20,14,9,12],[21,6,10,4,"insights"],[21,14,10,12],[22,6,11,4,"categoryBreakdown"],[22,23,11,21],[23,6,12,4,"spendVelocity"],[23,19,12,17],[24,6,13,4,"loading"],[24,13,13,11],[25,6,14,4,"error"],[25,11,14,9],[26,6,15,4,"setUser"],[26,13,15,11],[27,6,16,4,"setAccounts"],[27,17,16,15],[28,6,17,4,"setInsights"],[28,17,17,15],[29,6,18,4,"setCategoryBreakdown"],[29,26,18,24],[30,6,19,4,"setSpendVelocity"],[30,22,19,20],[31,6,20,4,"setLoading"],[31,16,20,14],[32,6,21,4,"setError"],[33,4,22,2],[33,5,22,3],[33,8,22,6],[33,12,22,6,"useAppStore"],[33,29,22,17],[33,30,22,17,"useAppStore"],[33,41,22,17],[33,43,22,18],[33,44,22,19],[34,4,24,2],[34,10,24,8,"initializeApp"],[34,23,24,21],[34,26,24,24],[34,32,24,24,"initializeApp"],[34,33,24,24],[34,38,24,36],[35,6,25,4],[35,10,25,8],[36,8,26,6,"setLoading"],[36,18,26,16],[36,19,26,17],[36,23,26,21],[36,24,26,22],[37,8,27,6,"setError"],[37,16,27,14],[37,17,27,15],[37,21,27,19],[37,22,27,20],[39,8,29,6],[40,8,30,6],[40,14,30,12,"initResult"],[40,24,30,22],[40,27,30,25],[40,33,30,31,"api"],[40,42,30,34],[40,43,30,34,"api"],[40,46,30,34],[40,47,30,35,"initializeUser"],[40,61,30,49],[40,62,30,50],[40,63,30,51],[41,8,32,6],[41,12,32,10,"initResult"],[41,22,32,20],[41,23,32,21,"user_id"],[41,30,32,28],[41,32,32,30],[42,10,33,8],[43,10,34,8],[43,16,34,14,"dashboardData"],[43,29,34,27],[43,32,34,30],[43,38,34,36,"api"],[43,47,34,39],[43,48,34,39,"api"],[43,51,34,39],[43,52,34,40,"getDashboard"],[43,64,34,52],[43,65,34,53,"initResult"],[43,75,34,63],[43,76,34,64,"user_id"],[43,83,34,71],[43,84,34,72],[44,10,36,8,"setUser"],[44,17,36,15],[44,18,36,16,"dashboardData"],[44,31,36,29],[44,32,36,30,"user"],[44,36,36,34],[44,37,36,35],[45,10,37,8,"setAccounts"],[45,21,37,19],[45,22,37,20,"dashboardData"],[45,35,37,33],[45,36,37,34,"accounts"],[45,44,37,42],[45,45,37,43],[46,10,38,8,"setInsights"],[46,21,38,19],[46,22,38,20,"dashboardData"],[46,35,38,33],[46,36,38,34,"insights"],[46,44,38,42],[46,45,38,43],[47,10,39,8,"setCategoryBreakdown"],[47,30,39,28],[47,31,39,29,"dashboardData"],[47,44,39,42],[47,45,39,43,"category_breakdown"],[47,63,39,61],[47,64,39,62],[48,10,40,8,"setSpendVelocity"],[48,26,40,24],[48,27,40,25,"dashboardData"],[48,40,40,38],[48,41,40,39,"spend_velocity"],[48,55,40,53],[48,56,40,54],[49,10,42,8,"setIsInitialized"],[49,26,42,24],[49,27,42,25],[49,31,42,29],[49,32,42,30],[50,8,43,6],[51,6,44,4],[51,7,44,5],[51,8,44,6],[51,15,44,13,"err"],[51,18,44,21],[51,20,44,23],[52,8,45,6,"console"],[52,15,45,13],[52,16,45,14,"error"],[52,21,45,19],[52,22,45,20],[52,55,45,53],[52,57,45,55,"err"],[52,60,45,58],[52,61,45,59],[53,8,46,6,"setError"],[53,16,46,14],[53,17,46,15,"err"],[53,20,46,18],[53,21,46,19,"message"],[53,28,46,26],[53,32,46,30],[53,58,46,56],[53,59,46,57],[54,6,47,4],[54,7,47,5],[54,16,47,14],[55,8,48,6,"setLoading"],[55,18,48,16],[55,19,48,17],[55,24,48,22],[55,25,48,23],[56,6,49,4],[57,4,50,2],[57,5,50,3],[58,4,52,2],[58,10,52,8,"refreshDashboard"],[58,26,52,24],[58,29,52,27],[58,35,52,27,"refreshDashboard"],[58,36,52,27],[58,41,52,39],[59,6,53,4],[59,10,53,8],[59,11,53,9,"user"],[59,15,53,13],[59,17,53,15,"_id"],[59,20,53,18],[59,22,53,20],[60,6,55,4],[60,10,55,8],[61,8,56,6,"setLoading"],[61,18,56,16],[61,19,56,17],[61,23,56,21],[61,24,56,22],[62,8,57,6],[62,14,57,12,"dashboardData"],[62,27,57,25],[62,30,57,28],[62,36,57,34,"api"],[62,45,57,37],[62,46,57,37,"api"],[62,49,57,37],[62,50,57,38,"getDashboard"],[62,62,57,50],[62,63,57,51,"user"],[62,67,57,55],[62,68,57,56,"_id"],[62,71,57,59],[62,72,57,60],[63,8,59,6,"setAccounts"],[63,19,59,17],[63,20,59,18,"dashboardData"],[63,33,59,31],[63,34,59,32,"accounts"],[63,42,59,40],[63,43,59,41],[64,8,60,6,"setInsights"],[64,19,60,17],[64,20,60,18,"dashboardData"],[64,33,60,31],[64,34,60,32,"insights"],[64,42,60,40],[64,43,60,41],[65,8,61,6,"setCategoryBreakdown"],[65,28,61,26],[65,29,61,27,"dashboardData"],[65,42,61,40],[65,43,61,41,"category_breakdown"],[65,61,61,59],[65,62,61,60],[66,8,62,6,"setSpendVelocity"],[66,24,62,22],[66,25,62,23,"dashboardData"],[66,38,62,36],[66,39,62,37,"spend_velocity"],[66,53,62,51],[66,54,62,52],[67,6,63,4],[67,7,63,5],[67,8,63,6],[67,15,63,13,"err"],[67,18,63,21],[67,20,63,23],[68,8,64,6,"console"],[68,15,64,13],[68,16,64,14,"error"],[68,21,64,19],[68,22,64,20],[68,48,64,46],[68,50,64,48,"err"],[68,53,64,51],[68,54,64,52],[69,8,65,6,"setError"],[69,16,65,14],[69,17,65,15,"err"],[69,20,65,18],[69,21,65,19,"message"],[69,28,65,26],[69,32,65,30],[69,61,65,59],[69,62,65,60],[70,6,66,4],[70,7,66,5],[70,16,66,14],[71,8,67,6,"setLoading"],[71,18,67,16],[71,19,67,17],[71,24,67,22],[71,25,67,23],[72,6,68,4],[73,4,69,2],[73,5,69,3],[74,4,71,2],[74,8,71,2,"useEffect"],[74,14,71,11],[74,15,71,11,"useEffect"],[74,24,71,11],[74,26,71,12],[74,32,71,18],[75,6,72,4],[75,10,72,8],[75,11,72,9,"isInitialized"],[75,24,72,22],[75,26,72,24],[76,8,73,6,"initializeApp"],[76,21,73,19],[76,22,73,20],[76,23,73,21],[77,6,74,4],[78,4,75,2],[78,5,75,3],[78,7,75,5],[78,9,75,7],[78,10,75,8],[79,4,77,2],[79,11,77,9],[80,6,78,4,"user"],[80,10,78,8],[81,6,79,4,"accounts"],[81,14,79,12],[82,6,80,4,"insights"],[82,14,80,12],[83,6,81,4,"categoryBreakdown"],[83,23,81,21],[84,6,82,4,"spendVelocity"],[84,19,82,17],[85,6,83,4,"loading"],[85,13,83,11],[86,6,84,4,"error"],[86,11,84,9],[87,6,85,4,"refreshDashboard"],[88,4,86,2],[88,5,86,3],[89,2,87,0],[89,3,87,1],[90,0,87,2],[90,3]],"functionMap":{"names":["<global>","useDashboard","initializeApp","refreshDashboard","useEffect$argument_0"],"mappings":"AAA;4BCI;wBCmB;GD0B;2BEE;GFiB;YGE;GHI;CDY"},"hasCjsExports":false},"type":"js/module"}]}